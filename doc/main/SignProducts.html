<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0 from src/site/markdown/SignProducts.md at 2025-10-25
 | Rendered using Apache Maven Fluido Skin 2.0.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0" />
    <title>Signing of custom Eclipse Products with Tycho – Tycho</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.0.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.0.1.min.js"></script>
    <style>.github-fork-ribbon:before { background-color: gray; }</style>
  </head>
  <body>
    <a class="github-fork-ribbon right-top" href="https://github.com/eclipse-tycho/tycho" data-ribbon="Fork me on GitHub">Fork me on GitHub</a>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2025-05-24<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 6.0.0-SNAPSHOT</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Using Tycho</li>
    <li><a href="index.html">Overview</a></li>
    <li><a href="TychoBuildExtension.html">Tycho Build Extension</a></li>
    <li><a href="StructuredBuild.html">Structured Build Layout and Pomless Builds</a></li>
    <li><a href="BndBuild.html"><span class="icon-chevron-down"></span>BND Workspace and Pomless Builds</a>
     <ul class="nav nav-list">
      <li><a href="tycho-bnd-plugin/plugin-info.html">Tycho BND Plugin</a></li>
     </ul></li>
    <li><a href="PackagingTypes.html"><span class="icon-chevron-down"></span>Packaging Types</a>
     <ul class="nav nav-list">
      <li><a href="tycho-packaging-plugin/plugin-info.html">Tycho Packaging Plugin</a></li>
     </ul></li>
    <li><a href="TargetPlatform.html"><span class="icon-chevron-down"></span>Target Platform</a>
     <ul class="nav nav-list">
      <li><a href="target-platform-configuration/plugin-info.html">Target Platform Configuration Plugin</a></li>
      <li><a href="tycho-extras/target-platform-validation-plugin/plugin-info.html">Target Platform Validation Plugin</a></li>
      <li><a href="tycho-extras/tycho-version-bump-plugin/update-target-mojo.html">Update Target Platform Mojo</a></li>
     </ul></li>
    <li><a href="TestingBundles.html"><span class="icon-chevron-down"></span>Testing Bundles</a>
     <ul class="nav nav-list">
      <li><a href="tycho-test-plugin/plugin-info.html">Tycho Test Plugin</a></li>
      <li><a href="tycho-surefire-plugin/plugin-info.html">Tycho Surefire Plugin</a></li>
     </ul></li>
    <li><a href="TychoCiFriendly.html">Tycho CI Friendly Versions</a></li>
    <li><a href="Category.html"><span class="icon-chevron-down"></span>Creating update sites using category.xml</a>
     <ul class="nav nav-list">
      <li><a href="tycho-p2-repository-plugin/plugin-info.html">Tycho P2 Repository Plugin</a></li>
     </ul></li>
    <li><a><span class="icon-chevron-down"></span>Properties</a>
     <ul class="nav nav-list">
      <li><a href="BuildProperties.html">Build Properties</a></li>
      <li><a href="SystemProperties.html">System Properties</a></li>
      <li><a href="TychoProperties.html">Tycho Properties</a></li>
     </ul></li>
    <li><a href="SBOM.html"><span class="icon-chevron-down"></span>Creating SBOMs for Eclipse Artifacts</a>
     <ul class="nav nav-list">
      <li><a href="tycho-sbom-plugin/plugin-info.html">SBOM Plugin</a></li>
     </ul></li>
    <li><a href="Troubleshooting.html">Troubleshooting</a></li>
    <li class="active"><a>Sign custom products</a></li>
   <li class="nav-header">Other Tycho Plugins</li>
    <li><a href="tycho-baseline-plugin/plugin-info.html">Baseline Plugin</a></li>
    <li><a href="tycho-compiler-plugin/plugin-info.html">Compiler Plugin</a></li>
    <li><a href="tycho-ds-plugin/plugin-info.html">Declarative Services Plugin</a></li>
    <li><a href="tycho-extras/tycho-document-bundle-plugin/plugin-info.html">Document Bundle Plugin</a></li>
    <li><a href="tycho-eclipse-plugin/plugin-info.html">Eclipse Plugin</a></li>
    <li><a href="tycho-gpg-plugin/plugin-info.html">GPG Signature Plugin</a></li>
    <li><a href="tycho-p2-director-plugin/plugin-info.html">P2 Director Plugin</a></li>
    <li><a href="tycho-p2-plugin/plugin-info.html">P2 Metadata Plugin</a></li>
    <li><a href="tycho-p2-publisher-plugin/plugin-info.html">P2 Publisher Plugin</a></li>
    <li><a href="tycho-extras/tycho-p2-extras-plugin/plugin-info.html">P2 Extras Plugin</a></li>
    <li><a href="tycho-apitools-plugin/plugin-info.html">PDE API Tools Plugin</a></li>
    <li><a href="tycho-source-plugin/plugin-info.html">Source Plugin</a></li>
    <li><a href="tycho-versions-plugin/plugin-info.html">Versions Plugin</a></li>
    <li><a href="tycho-cleancode-plugin/plugin-info.html">CleanCode Plugin</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://maven.apache.org/" class="builtBy" target="_blank"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">
<section><a id="Signing_of_custom_Eclipse_Products_with_Tycho"></a>
<h1>Signing of custom Eclipse Products with Tycho</h1>
<p>In some cases one wants to customize the Eclipse Launcher for example with an own icon what breaks the signing under windows as the icons are part of the executable itself,
also sometimes one wants to sign it with an own company certificate.</p>
<p>As the process of signing an executable can vary and there is no platform independent way to do this Tycho can not do it on its own and the process to do it properly requires some steps,
so we try to give some guidance here.</p>
<p><strong>Important note</strong> Signing the binary does not really sign your product as a whole! As Eclipse is extensible by nature it can be modified or the binary can be copied to a complete different product!</p>
<p>As signing is usually not performed during normal development, it might be good to put the following configurations into a <code>profile</code> e.g. with the name sign-products, the current process is quite convoluted so we likey want to improve that over time to make it simpler.</p><section><a id="Step_1.3A_Move_some_of_the_executions_to_the_compile_phase"></a>
<h2>Step 1: Move some of the executions to the compile phase</h2>
<p>Because we want to modify some files before they appear in the assembly repository, we first move some of the executions from the default phase into the compile phase to execute additional actions:</p>

<pre class="prettyprint linenums"><code class="language-xml">&lt;plugin&gt;
	&lt;groupId&gt;org.eclipse.tycho&lt;/groupId&gt;
	&lt;artifactId&gt;tycho-p2-publisher-plugin&lt;/artifactId&gt;
	&lt;version&gt;${tycho-version}&lt;/version&gt;
	&lt;executions&gt;
		&lt;execution&gt;
			&lt;id&gt;default-publish-osgi-ee&lt;/id&gt;
			&lt;phase&gt;compile&lt;/phase&gt;
		&lt;/execution&gt;
		&lt;execution&gt;
			&lt;id&gt;default-publish-products&lt;/id&gt;
			&lt;phase&gt;compile&lt;/phase&gt;
		&lt;/execution&gt;
		&lt;execution&gt;
			&lt;id&gt;default-attach-artifacts&lt;/id&gt;
			&lt;phase&gt;compile&lt;/phase&gt;
		&lt;/execution&gt;
	&lt;/executions&gt;
&lt;/plugin&gt;
</code></pre></section><section><a id="Step_2.3A_Expand_the_customized_product_binaries"></a>
<h2>Step 2: Expand the customized product binaries</h2>
<p>Maven and P2 manage artifacts as zip files so they can be transfered as a stream, because usually the signing tools are not capable to sign binaries inside a zip file we first need to extract them we use the windows binaries here as an example:</p>

<pre class="prettyprint linenums"><code class="language-xml">&lt;plugin&gt;
	&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
	&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;
	&lt;version&gt;3.9.0&lt;/version&gt;
	&lt;executions&gt;
		&lt;execution&gt;
			&lt;id&gt;unpack&lt;/id&gt;
			&lt;phase&gt;process-classes&lt;/phase&gt;
			&lt;goals&gt;
				&lt;goal&gt;unpack&lt;/goal&gt;
			&lt;/goals&gt;
			&lt;configuration&gt;
				&lt;outputDirectory&gt;${project.build.directory}/executables&lt;/outputDirectory&gt;
				&lt;artifactItems&gt;
					&lt;artifactItem&gt;
						&lt;groupId&gt;${project.groupId}&lt;/groupId&gt;
						&lt;artifactId&gt;${project.artifactId}&lt;/artifactId&gt;
						&lt;classifier&gt;&lt;!-- ID of your custom product --&gt;.executable.win32.win32.x86_64&lt;/classifier&gt;
						&lt;version&gt;${project.version}&lt;/version&gt;
						&lt;type&gt;zip&lt;/type&gt;
					&lt;/artifactItem&gt;
				&lt;/artifactItems&gt;
			&lt;/configuration&gt;
		&lt;/execution&gt;
	&lt;/executions&gt;
&lt;/plugin&gt;
</code></pre></section><section><a id="Step_3.3A_perform_the_signing_.28or_other_customization.29"></a>
<h2>Step 3: perform the signing (or other customization)</h2>
<p>Now we need to sign the binaries, as explained this a custom step that depends on how you do the actual signing, as an example we here instead delete the eclipsec.exe instead of performing any signing:</p>

<pre class="prettyprint linenums"><code class="language-xml">&lt;plugin&gt;
	&lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;
	&lt;version&gt;2.5&lt;/version&gt;
	&lt;executions&gt;
		&lt;execution&gt;
			&lt;id&gt;delete&lt;/id&gt;
			&lt;phase&gt;process-classes&lt;/phase&gt;
			&lt;goals&gt;
				&lt;goal&gt;clean&lt;/goal&gt;
			&lt;/goals&gt;
			&lt;configuration&gt;
				&lt;excludeDefaultDirectories&gt;true&lt;/excludeDefaultDirectories&gt;
				&lt;filesets&gt;
					&lt;fileset&gt;
						&lt;directory&gt;${project.build.directory}/executables&lt;/directory&gt;
						&lt;includes&gt;
							&lt;include&gt;eclipsec.exe&lt;/include&gt;
						&lt;/includes&gt;
					&lt;/fileset&gt;
				&lt;/filesets&gt;
			&lt;/configuration&gt;
		&lt;/execution&gt;
	&lt;/executions&gt;
&lt;/plugin&gt;
</code></pre></section><section><a id="Step_4.3A_Make_a_zip_of_the_results"></a>
<h2>Step 4: Make a zip of the results</h2>
<p>Now we need to package them as zip files again and place them at the location where Tycho is looking for them:</p>

	org.eclipse.tycho
	tycho-p2-repository-plugin
	${tycho-version}
	
		
			pack
			process-classes
			
				archive-repository
			
			
				extraArtifacts/<!-- ID of your custom product -->.executable.win32.win32.x86_64
				${project.build.directory}/executables
			
		
	

</section><section><a id="Result"></a>
<h2>Result</h2>
<p>You will now end up with a product for windows that only have <code>eclipse.exe</code> (or whatever your launcher name was) without the corresponding <code>eclipsec.exe</code>, you can find the example <a href="https://github.com/eclipse-tycho/tycho/tree/master/demo/custom-signing-product" class="externalLink">here</a>.</p></section></section>        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2008–2025
<a href="https://www.eclipse.org/">Eclipse Foundation</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>
