<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0-M19 from src/site/markdown/BndBuild.md at 2024-10-19
 | Rendered using Apache Maven Fluido Skin 2.0.0-M10
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0-M19" />
    <title>BND Workspace Layout and Pomless Builds – Tycho</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.0.0-M10.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.0.0-M10.min.js"></script>
  </head>
  <body>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2024-10-19<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 5.0.0-SNAPSHOT</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Using Tycho</li>
    <li><a href="index.html">Overview</a></li>
    <li><a href="StructuredBuild.html">Structured Build Layout and Pomless Builds</a></li>
    <li class="active"><a><span class="icon-chevron-down"></span>BND Workspace and Pomless Builds</a>
     <ul class="nav nav-list">
      <li><a href="tycho-bnd-plugin/plugin-info.html">Tycho BND Plugin</a></li>
     </ul></li>
    <li><a href="PackagingTypes.html"><span class="icon-chevron-down"></span>Packaging Types</a>
     <ul class="nav nav-list">
      <li><a href="tycho-packaging-plugin/plugin-info.html">Tycho Packaging Plugin</a></li>
     </ul></li>
    <li><a href="TargetPlatform.html"><span class="icon-chevron-down"></span>Target Platform</a>
     <ul class="nav nav-list">
      <li><a href="target-platform-configuration/plugin-info.html">Target Platform Configuration Plugin</a></li>
      <li><a href="tycho-extras/target-platform-validation-plugin/plugin-info.html">Target Platform Validation Plugin</a></li>
      <li><a href="tycho-extras/tycho-version-bump-plugin/update-target-mojo.html">Update Target Platform Mojo</a></li>
     </ul></li>
    <li><a href="TestingBundles.html"><span class="icon-chevron-down"></span>Testing Bundles</a>
     <ul class="nav nav-list">
      <li><a href="tycho-surefire-plugin/plugin-info.html">Tycho Surefire Plugin</a></li>
     </ul></li>
    <li><a href="TychoCiFriendly.html">Tycho CI Friendly Versions</a></li>
    <li><a href="Category.html"><span class="icon-chevron-down"></span>Creating update sites using category.xml</a>
     <ul class="nav nav-list">
      <li><a href="tycho-p2-repository-plugin/plugin-info.html">Tycho P2 Repository Plugin</a></li>
     </ul></li>
    <li><a><span class="icon-chevron-down"></span>Properties</a>
     <ul class="nav nav-list">
      <li><a href="BuildProperties.html">Build Properties</a></li>
      <li><a href="SystemProperties.html">System Properties</a></li>
      <li><a href="TychoProperties.html">Tycho Properties</a></li>
     </ul></li>
   <li class="nav-header">Other Tycho Plugins</li>
    <li><a href="tycho-baseline-plugin/plugin-info.html">Baseline Plugin</a></li>
    <li><a href="tycho-compiler-plugin/plugin-info.html">Compiler Plugin</a></li>
    <li><a href="tycho-ds-plugin/plugin-info.html">Declarative Services Plugin</a></li>
    <li><a href="tycho-extras/tycho-document-bundle-plugin/plugin-info.html">Document Bundle Plugin</a></li>
    <li><a href="tycho-eclipse-plugin/plugin-info.html">Eclipse Plugin</a></li>
    <li><a href="tycho-gpg-plugin/plugin-info.html">GPG Signature Plugin</a></li>
    <li><a href="tycho-p2-director-plugin/plugin-info.html">P2 Director Plugin</a></li>
    <li><a href="tycho-p2-plugin/plugin-info.html">P2 Metadata Plugin</a></li>
    <li><a href="tycho-p2-publisher-plugin/plugin-info.html">P2 Publisher Plugin</a></li>
    <li><a href="tycho-extras/tycho-p2-extras-plugin/plugin-info.html">P2 Extras Plugin</a></li>
    <li><a href="tycho-apitools-plugin/plugin-info.html">PDE API Tools Plugin</a></li>
    <li><a href="tycho-source-plugin/plugin-info.html">Source Plugin</a></li>
    <li><a href="tycho-versions-plugin/plugin-info.html">Versions Plugin</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://maven.apache.org/" class="builtBy" target="_blank"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">
<section><a id="BND_Workspace_Layout_and_Pomless_Builds"></a>
<h1>BND Workspace Layout and Pomless Builds</h1>
<p>Tycho supports building projects that use the <strong>BND Workspace Layout</strong> as <a href="https://bndtools.org/concepts.html" class="externalLink">described here</a>.</p><section><a id="BND_Workspace_Layout"></a>
<h2>BND Workspace Layout</h2>
<p>A BND Workspace layout build layout usually has the following structure:</p>
<ul>

<li><code>root folder</code> - this usually is the root of your project repository (e.g. git)
<ul>

<li><code>cnf</code> - configuration folder for general setup
<ul>

<li><code>build.bnd</code> - main configuration file</li>
<li><code>ext</code> - additional configuration (optional)</li>
</ul></li>
<li><code>bundle1</code> - A bundle project
<ul>

<li><code>bnd.bnd</code> - project configuration file</li>
</ul></li>
<li><code>bundle2</code> - Another bundle project
<ul>

<li><code>bnd.bnd</code> - project configuration file</li>
</ul></li>
<li><code>...</code></li>
</ul></li>
</ul>
<p>any folder that do not match the layout is ignored.</p></section><section><a id="Pomless_Builds"></a>
<h2>Pomless Builds</h2>
<p>Given the above layout, Tycho now has a good knowledge about what your build artifacts are.
In contrast to a traditional maven build where each module has to contain a <code>pom.xml</code> file Tycho can derive most all from your supplied bnd configuration files, so everything is configured there and usually no additional maven configuration is required, therefore this build is completely pomless (no pom.xml), there are only a few steps to consider:</p>
<ol style="list-style-type: decimal;">

<li>Add a folder called <code>.mvn</code> to the root</li>
<li>Inside the <code>.mvn</code> folder place a file called <code>extensions.xml</code> with the following content:</li>
</ol>

<pre class="prettyprint"><code class="nohighlight nocode">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;extensions&gt;
  &lt;extension&gt;
    &lt;groupId&gt;org.eclipse.tycho&lt;/groupId&gt;
    &lt;artifactId&gt;tycho-build&lt;/artifactId&gt;
    &lt;version&gt;${tycho-version}&lt;/version&gt;
  &lt;/extension&gt;
&lt;/extensions&gt;
</code></pre>
<ol style="list-style-type: decimal;">

<li>create a file called <code>maven.config</code> in the <code>.mvn</code> folder with the following content (adjust the version accordingly!):</li>
</ol>

<pre class="prettyprint"><code class="nohighlight nocode">-Dtycho-version=3.0.0
</code></pre>
<ol style="list-style-type: decimal;">

<li>You can now run your build with <code>mvn clean verify</code></li>
</ol>
<p>A runnable demo can be found here:
<a href="https://github.com/eclipse-tycho/tycho/tree/master/demo/bnd-workspace" class="externalLink">https://github.com/eclipse-tycho/tycho/tree/master/demo/bnd-workspace</a></p></section><section><a id="Mixed_Builds"></a>
<h2>Mixed Builds</h2>
<p>You can even combine a BND Workspace and PDE bundles in a build, a runnable demo can be found here:
<a href="https://github.com/eclipse-tycho/tycho/tree/master/demo/bnd-pde-workspace" class="externalLink">https://github.com/eclipse-tycho/tycho/tree/master/demo/bnd-pde-workspace</a></p></section></section>        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2008–2024
<a href="https://www.eclipse.org/">Eclipse Foundation</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>
