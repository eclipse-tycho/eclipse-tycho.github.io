<!DOCTYPE html>


<!--
 | Generated by Apache Maven Doxia Site Renderer 2.0.0 from org.apache.maven.plugins:maven-plugin-report-plugin:3.15.1:report at 2025-05-28
 | Rendered using Apache Maven Fluido Skin 2.0.1
-->
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="generator" content="Apache Maven Doxia Site Renderer 2.0.0" />
    <title>tycho-gpg-bump:sign-p2-artifacts – Tycho GPG plugin</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-2.0.1.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
    <script src="./js/apache-maven-fluido-2.0.1.min.js"></script>
    <style>.github-fork-ribbon:before { background-color: gray; }</style>
  </head>
  <body>
    <a class="github-fork-ribbon right-top" href="https://github.com/eclipse-tycho/tycho" data-ribbon="Fork me on GitHub">Fork me on GitHub</a>
    <div class="container-fluid container-fluid-top">
      <header>
        <div id="banner">
          <div class="pull-left"></div>
          <div class="pull-right"></div>
          <div class="clear"><hr/></div>
        </div>

        <div id="breadcrumbs">
          <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2025-05-24<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 6.0.0-SNAPSHOT</li>
          </ul>
        </div>
      </header>
      <div class="row-fluid">
        <header id="leftColumn" class="span2">
          <nav class="well sidebar-nav">
  <ul class="nav nav-list">
   <li class="nav-header">Using Tycho</li>
    <li><a href="../index.html">Overview</a></li>
    <li><a href="../StructuredBuild.html">Structured Build Layout and Pomless Builds</a></li>
    <li><a href="../BndBuild.html"><span class="icon-chevron-down"></span>BND Workspace and Pomless Builds</a>
     <ul class="nav nav-list">
      <li><a href="../tycho-bnd-plugin/plugin-info.html">Tycho BND Plugin</a></li>
     </ul></li>
    <li><a href="../PackagingTypes.html"><span class="icon-chevron-down"></span>Packaging Types</a>
     <ul class="nav nav-list">
      <li><a href="../tycho-packaging-plugin/plugin-info.html">Tycho Packaging Plugin</a></li>
     </ul></li>
    <li><a href="../TargetPlatform.html"><span class="icon-chevron-down"></span>Target Platform</a>
     <ul class="nav nav-list">
      <li><a href="../target-platform-configuration/plugin-info.html">Target Platform Configuration Plugin</a></li>
      <li><a href="../tycho-extras/target-platform-validation-plugin/plugin-info.html">Target Platform Validation Plugin</a></li>
      <li><a href="../tycho-extras/tycho-version-bump-plugin/update-target-mojo.html">Update Target Platform Mojo</a></li>
     </ul></li>
    <li><a href="../TestingBundles.html"><span class="icon-chevron-down"></span>Testing Bundles</a>
     <ul class="nav nav-list">
      <li><a href="../tycho-surefire-plugin/plugin-info.html">Tycho Surefire Plugin</a></li>
     </ul></li>
    <li><a href="../TychoCiFriendly.html">Tycho CI Friendly Versions</a></li>
    <li><a href="../Category.html"><span class="icon-chevron-down"></span>Creating update sites using category.xml</a>
     <ul class="nav nav-list">
      <li><a href="../tycho-p2-repository-plugin/plugin-info.html">Tycho P2 Repository Plugin</a></li>
     </ul></li>
    <li><a><span class="icon-chevron-down"></span>Properties</a>
     <ul class="nav nav-list">
      <li><a href="../BuildProperties.html">Build Properties</a></li>
      <li><a href="../SystemProperties.html">System Properties</a></li>
      <li><a href="../TychoProperties.html">Tycho Properties</a></li>
     </ul></li>
   <li class="nav-header">Other Tycho Plugins</li>
    <li><a href="../tycho-baseline-plugin/plugin-info.html">Baseline Plugin</a></li>
    <li><a href="../tycho-compiler-plugin/plugin-info.html">Compiler Plugin</a></li>
    <li><a href="../tycho-ds-plugin/plugin-info.html">Declarative Services Plugin</a></li>
    <li><a href="../tycho-extras/tycho-document-bundle-plugin/plugin-info.html">Document Bundle Plugin</a></li>
    <li><a href="../tycho-eclipse-plugin/plugin-info.html">Eclipse Plugin</a></li>
    <li><a href="../tycho-gpg-plugin/plugin-info.html">GPG Signature Plugin</a></li>
    <li><a href="../tycho-p2-director-plugin/plugin-info.html">P2 Director Plugin</a></li>
    <li><a href="../tycho-p2-plugin/plugin-info.html">P2 Metadata Plugin</a></li>
    <li><a href="../tycho-p2-publisher-plugin/plugin-info.html">P2 Publisher Plugin</a></li>
    <li><a href="../tycho-extras/tycho-p2-extras-plugin/plugin-info.html">P2 Extras Plugin</a></li>
    <li><a href="../tycho-apitools-plugin/plugin-info.html">PDE API Tools Plugin</a></li>
    <li><a href="../tycho-source-plugin/plugin-info.html">Source Plugin</a></li>
    <li><a href="../tycho-versions-plugin/plugin-info.html">Versions Plugin</a></li>
   <li class="nav-header">Project Documentation</li>
    <li><a href="project-info.html"><span class="icon-chevron-right"></span>Project Information</a></li>
    <li><a href="project-reports.html"><span class="icon-chevron-right"></span>Project Reports</a></li>
  </ul>
          </nav>
          <div class="well sidebar-nav">
            <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
<a href="https://maven.apache.org/" class="builtBy" target="_blank"><img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" /></a>
            </div>
          </div>
        </header>
        <main id="bodyColumn" class="span10">
<section><a id="tycho-gpg-bump.3Asign-p2-artifacts"></a>
<h1>tycho-gpg-bump:sign-p2-artifacts</h1>
<p><strong>Full name</strong>:</p>
<p>org.eclipse.tycho:tycho-gpg-plugin:6.0.0-SNAPSHOT:sign-p2-artifacts</p>
<p><strong>Description</strong>:</p>
<p>Modifies the p2 metadata (<code>artifacts.xml</code>) to add a PGP signature to each included artifact. A signature is added as a <code>pgp.signatures</code> property on the artifact metadata, in armored form; and the public key of the signer is <code>optionally added</code><!-- no javadoc sites associated --> as a <code>pgp.publicKeys</code> property on the repository metadata, in armored form, and/or <code>optionally added</code><!-- no javadoc sites associated --> as a <code>pgp.publicKeys</code> property on the artifact metadata, in armored form.<br /><strong>See also:</strong> <a href="https://help.eclipse.org/latest/index.jsp?topic=%2Forg.eclipse.platform.doc.isv%2Fguide%2Fp2_pgp.html">Using PGP signatures in p2</a></p>
<p><strong>Attributes</strong>:</p>
<ul>
<li>Requires a Maven project to be executed.</li>
<li>The goal is not marked as thread-safe and thus does not support parallel builds.</li>
<li>Binds by default to the <a class="externalLink" href="https://maven.apache.org/ref/current/maven-core/lifecycles.html">lifecycle phase</a>: <code>prepare-package</code>.</li></ul><section><a id="Optional_Parameters"></a>
<h2>Optional Parameters</h2>
<table class="table table-striped">
<tr class="a">
<th>Name</th>
<th>Type</th>
<th>Since</th>
<th>Description</th></tr>
<tr class="b">
<td><a href="#addPublicKeyToArtifacts"><code>&lt;addPublicKeyToArtifacts&gt;</code></a></td>
<td><code>boolean</code></td>
<td><code>-</code></td>
<td>Configure to <code>true</code> to add the public key of the signature to each signed artifact's metadata.<br /><strong>Default</strong>: <code>true</code><br /><strong>Alias</strong>: <code>addPublicKeysToArtifacts</code></td></tr>
<tr class="a">
<td><a href="#addPublicKeyToRepo"><code>&lt;addPublicKeyToRepo&gt;</code></a></td>
<td><code>boolean</code></td>
<td><code>-</code></td>
<td>Configure to <code>true</code> to add the public key of each signature to the repository's metadata.<br /><strong>Default</strong>: <code>true</code></td></tr>
<tr class="b">
<td><a href="#agentSocketLocations"><code>&lt;agentSocketLocations&gt;</code></a></td>
<td><code>String</code></td>
<td><code>3.2.0</code></td>
<td>BC Signer only: The comma separate list of Unix Domain Socket paths, to use to communicate with GnuPG agent. If relative, they are resolved against user home directory.<br /><strong>Default</strong>: <code>.gnupg/S.gpg-agent</code><br /><strong>User Property</strong>: <code>gpg.agentSocketLocations</code></td></tr>
<tr class="a">
<td><a href="#bestPractices"><code>&lt;bestPractices&gt;</code></a></td>
<td><code>boolean</code></td>
<td><code>3.2.0</code></td>
<td>Switch to improve plugin enforcement of "best practices". If set to <code>false</code>, plugin retains all the backward compatibility regarding getting secrets (but will warn). If set to <code>true</code>, plugin will fail if any "bad practices" regarding sensitive data handling are detected. By default, plugin remains backward compatible (this flag is <code>false</code>). Somewhere in the future, when this parameter enabling transitioning from older plugin versions is removed, the logic using this flag will be modified like it is set to <code>true</code>. It is warmly advised to configure this parameter to <code>true</code> and migrate project and user environment regarding how sensitive information is stored.<br /><strong>Default</strong>: <code>false</code><br /><strong>User Property</strong>: <code>gpg.bestPractices</code></td></tr>
<tr class="b">
<td><a href="#defaultKeyring"><code>&lt;defaultKeyring&gt;</code></a></td>
<td><code>boolean</code></td>
<td><code>1.2</code></td>
<td>GPG Signer only: Whether to add the default keyrings from gpg's home directory to the list of used keyrings.<br /><strong>Default</strong>: <code>true</code><br /><strong>User Property</strong>: <code>gpg.defaultKeyring</code></td></tr>
<tr class="a">
<td><a href="#executable"><code>&lt;executable&gt;</code></a></td>
<td><code>String</code></td>
<td><code>1.1</code></td>
<td>GPG Signer only: The path to the GnuPG executable to use for artifact signing. Defaults to either "gpg" or "gpg.exe" depending on the operating system.<br /><strong>User Property</strong>: <code>gpg.executable</code></td></tr>
<tr class="b">
<td><a href="#forceSignature"><code>&lt;forceSignature&gt;</code></a></td>
<td><code>List&lt;String&gt;</code></td>
<td><code>-</code></td>
<td>Configured to specify artifacts that should be signed independently of other settings, e.g., <code>skipIfJarsigned</code><!-- no javadoc sites associated -->, <code>skipIfJarsignedAndAnchored</code><!-- no javadoc sites associated -->, and <code>skipBinaries</code><!-- no javadoc sites associated -->.</td></tr>
<tr class="a">
<td><a href="#gpgArguments"><code>&lt;gpgArguments&gt;</code></a></td>
<td><code>List&lt;String&gt;</code></td>
<td><code>1.5</code></td>
<td>GPG Signer only: Sets the arguments to be passed to gpg. Example: 
<pre>&lt;gpgArguments&gt;
  &lt;arg&gt;--no-random-seed-file&lt;/arg&gt;
  &lt;arg&gt;--no-permission-warning&lt;/arg&gt;
&lt;/gpgArguments&gt;
</pre></td></tr>
<tr class="b">
<td><a href="#homedir"><code>&lt;homedir&gt;</code></a></td>
<td><code>File</code></td>
<td><code>1.0</code></td>
<td>GPG Signer only: The directory from which gpg will load keyrings. If not specified, gpg will use the value configured for its installation, e.g. <code>~/.gnupg</code> or <code>%APPDATA%/gnupg</code>.<br /><strong>User Property</strong>: <code>gpg.homedir</code></td></tr>
<tr class="a">
<td><a href="#keyEnvName"><code>&lt;keyEnvName&gt;</code></a></td>
<td><code>String</code></td>
<td><code>3.2.0</code></td>
<td>BC Signer only: The env variable name where the GnuPG key is set. To use BC Signer you must provide GnuPG key, as it does not use GnuPG home directory to extract/find the key (while it does use GnuPG Agent to ask for password in interactive mode). The key should be in <a href="https://openpgp.dev/book/private_keys.html#transferable-secret-key-format">TSK format</a> and may be passphrase protected.<br /><strong>Default</strong>: <code>MAVEN_GPG_KEY</code><br /><strong>User Property</strong>: <code>gpg.keyEnvName</code></td></tr>
<tr class="b">
<td><a href="#keyFilePath"><code>&lt;keyFilePath&gt;</code></a></td>
<td><code>String</code></td>
<td><code>3.2.0</code></td>
<td>BC Signer only: The path of the exported key in <a href="https://openpgp.dev/book/private_keys.html#transferable-secret-key-format">TSK format</a>, and may be passphrase protected. If relative, the file is resolved against user home directory. 
<p><em>Note: it is not recommended to have sensitive files checked into SCM repository. Key file should reside on developer workstation, outside of SCM tracked repository. For CI-like use cases you should set the key material as env variable instead.</em></p><br /><strong>Default</strong>: <code>maven-signing-key.key</code><br /><strong>User Property</strong>: <code>gpg.keyFilePath</code></td></tr>
<tr class="a">
<td><a href="#keyFingerprint"><code>&lt;keyFingerprint&gt;</code></a></td>
<td><code>String</code></td>
<td><code>3.2.0</code></td>
<td>BC Signer only: The fingerprint of the key to use for signing. If not given, first key in keyring will be used.<br /><strong>User Property</strong>: <code>gpg.keyFingerprint</code></td></tr>
<tr class="b">
<td><a href="#keyFingerprintEnvName"><code>&lt;keyFingerprintEnvName&gt;</code></a></td>
<td><code>String</code></td>
<td><code>3.2.0</code></td>
<td>BC Signer only: The env variable name where the GnuPG key fingerprint is set, if the provided keyring contains multiple keys.<br /><strong>Default</strong>: <code>MAVEN_GPG_KEY_FINGERPRINT</code><br /><strong>User Property</strong>: <code>gpg.keyFingerprintEnvName</code></td></tr>
<tr class="a">
<td><a href="#keyname"><code>&lt;keyname&gt;</code></a></td>
<td><code>String</code></td>
<td><code>-</code></td>
<td>GPG Signer only: The "name" of the key to sign with. Passed to gpg as <code>--local-user</code>.<br /><strong>User Property</strong>: <code>gpg.keyname</code></td></tr>
<tr class="b">
<td><a href="#lockMode"><code>&lt;lockMode&gt;</code></a></td>
<td><code>String</code></td>
<td><code>1.5</code></td>
<td>GPG Signer only: The lock mode to use when invoking gpg. By default no lock mode will be specified. Valid values are <code>once</code>, <code>multiple</code> and <code>never</code>. The lock mode gets translated into the corresponding <code>--lock-___</code> command line argument. Improper usage of this option may lead to data and key corruption.<br /><strong>See also:</strong> <a href="http://www.gnupg.org/documentation/manuals/gnupg/GPG-Configuration-Options.html">the --lock-options</a><br /><strong>User Property</strong>: <code>gpg.lockMode</code></td></tr>
<tr class="a">
<td><a href="#outputTimestamp"><code>&lt;outputTimestamp&gt;</code></a></td>
<td><code>String</code></td>
<td><code>-</code></td>
<td>Timestamp for reproducible output archive entries, either formatted as ISO 8601 extended offset date-time (e.g. in UTC such as '2011-12-03T10:15:30Z' or with an offset '2019-10-05T20:37:42+06:00'), or as an int representing seconds since the epoch (like <a href="https://reproducible-builds.org/docs/source-date-epoch/">SOURCE_DATE_EPOCH</a>).<br /><strong>Default</strong>: <code>${project.build.outputTimestamp}</code></td></tr>
<tr class="b">
<td><a href="#passphrase"><code>&lt;passphrase&gt;</code></a></td>
<td><code>String</code></td>
<td><code>-</code></td>
<td>
<div><strong>Deprecated.</strong><br />Do not use this configuration, it may leak sensitive information. Rely on gpg-agent or env variables instead.</div><br />The passphrase to use when signing. If not given, look up the value under Maven settings using server id at 'passphraseServerKey' configuration. <em>Do not use this parameter, it leaks sensitive data. Passphrase should be provided only via gpg-agent or via env variable. If parameter <code>bestPractices</code><!-- no javadoc sites associated --> set to <code>true</code>, plugin fails when this parameter is configured.</em><br /><strong>User Property</strong>: <code>gpg.passphrase</code></td></tr>
<tr class="a">
<td><a href="#passphraseEnvName"><code>&lt;passphraseEnvName&gt;</code></a></td>
<td><code>String</code></td>
<td><code>3.2.0</code></td>
<td>The env variable name where the GnuPG passphrase is set. This is the recommended way to pass passphrase for signing in batch mode execution of Maven.<br /><strong>Default</strong>: <code>MAVEN_GPG_PASSPHRASE</code><br /><strong>User Property</strong>: <code>gpg.passphraseEnvName</code></td></tr>
<tr class="b">
<td><a href="#passphraseServerId"><code>&lt;passphraseServerId&gt;</code></a></td>
<td><code>String</code></td>
<td><code>1.6</code></td>
<td>
<div><strong>Deprecated.</strong><br />Do not use this configuration, it may leak sensitive information. Rely on gpg-agent or env variables instead.</div><br />Server id to lookup the passphrase under Maven settings. <em>Do not use this parameter, it leaks sensitive data. Passphrase should be provided only via gpg-agent or via env variable. If parameter <code>bestPractices</code><!-- no javadoc sites associated --> set to <code>true</code>, plugin fails when this parameter is configured.</em> Is programatically defaulted to <code>GPG_PASSPHRASE</code><!-- no javadoc sites associated -->.<br /><strong>User Property</strong>: <code>gpg.passphraseServerId</code></td></tr>
<tr class="a">
<td><a href="#pgpKeyBehavior"><code>&lt;pgpKeyBehavior&gt;</code></a></td>
<td><code>SignRepositoryArtifactsMojo$PGPKeyBehavior</code></td>
<td><code>-</code></td>
<td>Configures how to generate PGP signatures for artifacts that already have one or more PGP signatures, <code>skip</code> to generate no new PGP signature, <code>replace</code> to replace the existing signature(s) with a new signature, and <code>merge</code> to add a new signature to any existing signature(s).<br /><strong>Default</strong>: <code>skip</code></td></tr>
<tr class="b">
<td><a href="#publicKeyring"><code>&lt;publicKeyring&gt;</code></a></td>
<td><code>String</code></td>
<td><code>1.2</code></td>
<td>
<div><strong>Deprecated.</strong><br />Obsolete option since GnuPG 2.1 version.</div><br />GPG Signer only: The path to a public keyring to add to the list of keyrings. By default, only the <code>pubring.gpg</code> from gpg's home directory is considered. Use this option (and <code>defaultKeyring</code><!-- no javadoc sites associated --> if required) to use a different public key. <em>Note:</em> Relative paths are resolved against gpg's home directory, not the project base directory. 
<p><strong>NOTE: </strong>As of gpg 2.1 this is an obsolete option and ignored. All public keys are stored in the ‘pubring.kbx’ file below the GnuPG home directory.</p><br /><strong>User Property</strong>: <code>gpg.publicKeyring</code></td></tr>
<tr class="a">
<td><a href="#repository"><code>&lt;repository&gt;</code></a></td>
<td><code>File</code></td>
<td><code>-</code></td>
<td>The repository location.<br /><strong>Default</strong>: <code>${project.build.directory}/repository</code></td></tr>
<tr class="b">
<td><a href="#secretKeyring"><code>&lt;secretKeyring&gt;</code></a></td>
<td><code>String</code></td>
<td><code>1.2</code></td>
<td>
<div><strong>Deprecated.</strong><br />Obsolete option since GnuPG 2.1 version.</div><br />GPG Signer only: The path to a secret keyring to add to the list of keyrings. By default, only the <code>secring.gpg</code> from gpg's home directory is considered. Use this option (in combination with <code>publicKeyring</code><!-- no javadoc sites associated --> and <code>defaultKeyring</code><!-- no javadoc sites associated --> if required) to use a different secret key. <em>Note:</em> Relative paths are resolved against gpg's home directory, not the project base directory. 
<p><strong>NOTE: </strong>As of gpg 2.1 this is an obsolete option and ignored. All secret keys are stored in the ‘private-keys-v1.d’ directory below the GnuPG home directory.</p><br /><strong>User Property</strong>: <code>gpg.secretKeyring</code></td></tr>
<tr class="a">
<td><a href="#secretKeys"><code>&lt;secretKeys&gt;</code></a></td>
<td><code>File</code></td>
<td><code>-</code></td>
<td>Configure the Bouncy Castle <code>signer</code><!-- no javadoc sites associated --> to load the secret keys, stored in armored from, from the specified file. This avoids needing to import the keys into GnuPG's keybox.<br /><strong>User Property</strong>: <code>tycho.pgp.signer.bc.secretKeys</code></td></tr>
<tr class="b">
<td><a href="#signer"><code>&lt;signer&gt;</code></a></td>
<td><code>String</code></td>
<td><code>-</code></td>
<td>Configure the signer used for PGP signing. Currently supported are <code>gpg</code> for launching the native <code>gpg</code> executable, and <code>bc</code> for using Bouncy Castle libraries. The latter is much faster and it can sign in parallel, so is very much faster.<br /><strong>Default</strong>: <code>gpg</code><br /><strong>User Property</strong>: <code>tycho.pgp.signer</code></td></tr>
<tr class="a">
<td><a href="#skip"><code>&lt;skip&gt;</code></a></td>
<td><code>boolean</code></td>
<td><code>-</code></td>
<td>Skip doing the gpg signing.<br /><strong>Default</strong>: <code>false</code><br /><strong>User Property</strong>: <code>gpg.skip</code></td></tr>
<tr class="b">
<td><a href="#skipBinaries"><code>&lt;skipBinaries&gt;</code></a></td>
<td><code>boolean</code></td>
<td><code>-</code></td>
<td>Configure to <code>true</code> to generate a PGP signature for binary artifacts.<br /><strong>Default</strong>: <code>true</code></td></tr>
<tr class="a">
<td><a href="#skipIfJarsigned"><code>&lt;skipIfJarsigned&gt;</code></a></td>
<td><code>boolean</code></td>
<td><code>-</code></td>
<td>Configure to <code>true</code> to generate PGP signature only for artifacts that are <strong>not</strong> signed by a jarsigner.<br /><strong>Default</strong>: <code>true</code></td></tr>
<tr class="b">
<td><a href="#skipIfJarsignedAndAnchored"><code>&lt;skipIfJarsignedAndAnchored&gt;</code></a></td>
<td><code>boolean</code></td>
<td><code>-</code></td>
<td>Configure to <code>true</code> to generate a PGP signature only for artifacts that do <strong>not</strong> contain a signature that's anchored in Java's trust store, i.e., anchored in the JDK's cacerts. A JCA certificate, for example, is never anchored.<br /><strong>Default</strong>: <code>true</code></td></tr>
<tr class="a">
<td><a href="#terminatePassphrase"><code>&lt;terminatePassphrase&gt;</code></a></td>
<td><code>boolean</code></td>
<td><code>3.2.7</code></td>
<td>Whether to terminate the passphrase with LF character or not, as on some systems and some GPG executable combinations lack of trailing LF may cause GPG to not detect passphrase on STDIN. Since 3.2.0 it was always appended, unless passphrase itself ended with it. Note: before 3.2.7 the "line separator" was used for termination, that on other hand caused issues on Windows, where line separator is CRLF while GPG handles LF only. This parameter affects ONLY the GPG signer, not the BC signer. 
<p>By default, this parameter is <code>true</code>.</p><br /><strong>See also:</strong> <a href="https://issues.apache.org/jira/browse/MGPG-99">MGPG-99</a>, <a href="https://issues.apache.org/jira/browse/MGPG-136">MGPG-136</a><br /><strong>Default</strong>: <code>true</code><br /><strong>User Property</strong>: <code>gpg.terminatePassphrase</code></td></tr>
<tr class="b">
<td><a href="#useAgent"><code>&lt;useAgent&gt;</code></a></td>
<td><code>boolean</code></td>
<td><code>-</code></td>
<td>All signers: whether gpg-agent is allowed to be used or not. If enabled, passphrase is optional, as agent may provide it. Have to be noted, that in "batch" mode, gpg-agent will be prevented to pop up pinentry dialogue, hence best is to "prime" the agent caches beforehand. 
<p>GPG Signer: Passes <code>--use-agent</code> or <code>--no-use-agent</code> option to gpg if it is version 2.1 or older. Otherwise, will use an agent. In non-interactive mode gpg options are appended with <code>--pinentry-mode error</code>, preventing gpg agent to pop up pinentry dialogue. Agent will be able to hand over only cached passwords.</p>
<p>BC Signer: Allows signer to communicate with gpg agent. In non-interactive mode it uses <code>--no-ask</code> option with the <code>GET_PASSPHRASE</code> function. Agent will be able to hand over only cached passwords.</p><br /><strong>Default</strong>: <code>true</code><br /><strong>User Property</strong>: <code>gpg.useagent</code></td></tr></table></section><section><a id="Parameter_Details"></a>
<h2>Parameter Details</h2><a id="addPublicKeyToArtifacts"></a><section><a id="a.3CaddPublicKeyToArtifacts.3E"></a>
<h3>&lt;addPublicKeyToArtifacts&gt;</h3>
<div>Configure to <code>true</code> to add the public key of the signature to each signed artifact's metadata.</div>
<ul>
<li><strong>Type</strong>: <code>boolean</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>Default</strong>: <code>true</code></li>
<li><strong>Alias</strong>: <code>addPublicKeysToArtifacts</code></li></ul><hr /></section><a id="addPublicKeyToRepo"></a><section><a id="a.3CaddPublicKeyToRepo.3E"></a>
<h3>&lt;addPublicKeyToRepo&gt;</h3>
<div>Configure to <code>true</code> to add the public key of each signature to the repository's metadata.</div>
<ul>
<li><strong>Type</strong>: <code>boolean</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>Default</strong>: <code>true</code></li></ul><hr /></section><a id="agentSocketLocations"></a><section><a id="a.3CagentSocketLocations.3E"></a>
<h3>&lt;agentSocketLocations&gt;</h3>
<div>BC Signer only: The comma separate list of Unix Domain Socket paths, to use to communicate with GnuPG agent. If relative, they are resolved against user home directory.</div>
<ul>
<li><strong>Type</strong>: <code>java.lang.String</code></li>
<li><strong>Since</strong>: <code>3.2.0</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>User Property</strong>: <code>gpg.agentSocketLocations</code></li>
<li><strong>Default</strong>: <code>.gnupg/S.gpg-agent</code></li></ul><hr /></section><a id="bestPractices"></a><section><a id="a.3CbestPractices.3E"></a>
<h3>&lt;bestPractices&gt;</h3>
<div>Switch to improve plugin enforcement of "best practices". If set to <code>false</code>, plugin retains all the backward compatibility regarding getting secrets (but will warn). If set to <code>true</code>, plugin will fail if any "bad practices" regarding sensitive data handling are detected. By default, plugin remains backward compatible (this flag is <code>false</code>). Somewhere in the future, when this parameter enabling transitioning from older plugin versions is removed, the logic using this flag will be modified like it is set to <code>true</code>. It is warmly advised to configure this parameter to <code>true</code> and migrate project and user environment regarding how sensitive information is stored.</div>
<ul>
<li><strong>Type</strong>: <code>boolean</code></li>
<li><strong>Since</strong>: <code>3.2.0</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>User Property</strong>: <code>gpg.bestPractices</code></li>
<li><strong>Default</strong>: <code>false</code></li></ul><hr /></section><a id="defaultKeyring"></a><section><a id="a.3CdefaultKeyring.3E"></a>
<h3>&lt;defaultKeyring&gt;</h3>
<div>GPG Signer only: Whether to add the default keyrings from gpg's home directory to the list of used keyrings.</div>
<ul>
<li><strong>Type</strong>: <code>boolean</code></li>
<li><strong>Since</strong>: <code>1.2</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>User Property</strong>: <code>gpg.defaultKeyring</code></li>
<li><strong>Default</strong>: <code>true</code></li></ul><hr /></section><a id="executable"></a><section><a id="a.3Cexecutable.3E"></a>
<h3>&lt;executable&gt;</h3>
<div>GPG Signer only: The path to the GnuPG executable to use for artifact signing. Defaults to either "gpg" or "gpg.exe" depending on the operating system.</div>
<ul>
<li><strong>Type</strong>: <code>java.lang.String</code></li>
<li><strong>Since</strong>: <code>1.1</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>User Property</strong>: <code>gpg.executable</code></li></ul><hr /></section><a id="forceSignature"></a><section><a id="a.3CforceSignature.3E"></a>
<h3>&lt;forceSignature&gt;</h3>
<div>Configured to specify artifacts that should be signed independently of other settings, e.g., <code>skipIfJarsigned</code><!-- no javadoc sites associated -->, <code>skipIfJarsignedAndAnchored</code><!-- no javadoc sites associated -->, and <code>skipBinaries</code><!-- no javadoc sites associated -->.</div>
<ul>
<li><strong>Type</strong>: <code>java.util.List&lt;java.lang.String&gt;</code></li>
<li><strong>Required</strong>: <code>No</code></li></ul><hr /></section><a id="gpgArguments"></a><section><a id="a.3CgpgArguments.3E"></a>
<h3>&lt;gpgArguments&gt;</h3>
<div>GPG Signer only: Sets the arguments to be passed to gpg. Example: 
<pre>&lt;gpgArguments&gt;
  &lt;arg&gt;--no-random-seed-file&lt;/arg&gt;
  &lt;arg&gt;--no-permission-warning&lt;/arg&gt;
&lt;/gpgArguments&gt;
</pre></div>
<ul>
<li><strong>Type</strong>: <code>java.util.List&lt;java.lang.String&gt;</code></li>
<li><strong>Since</strong>: <code>1.5</code></li>
<li><strong>Required</strong>: <code>No</code></li></ul><hr /></section><a id="homedir"></a><section><a id="a.3Chomedir.3E"></a>
<h3>&lt;homedir&gt;</h3>
<div>GPG Signer only: The directory from which gpg will load keyrings. If not specified, gpg will use the value configured for its installation, e.g. <code>~/.gnupg</code> or <code>%APPDATA%/gnupg</code>.</div>
<ul>
<li><strong>Type</strong>: <code>java.io.File</code></li>
<li><strong>Since</strong>: <code>1.0</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>User Property</strong>: <code>gpg.homedir</code></li></ul><hr /></section><a id="keyEnvName"></a><section><a id="a.3CkeyEnvName.3E"></a>
<h3>&lt;keyEnvName&gt;</h3>
<div>BC Signer only: The env variable name where the GnuPG key is set. To use BC Signer you must provide GnuPG key, as it does not use GnuPG home directory to extract/find the key (while it does use GnuPG Agent to ask for password in interactive mode). The key should be in <a href="https://openpgp.dev/book/private_keys.html#transferable-secret-key-format">TSK format</a> and may be passphrase protected.</div>
<ul>
<li><strong>Type</strong>: <code>java.lang.String</code></li>
<li><strong>Since</strong>: <code>3.2.0</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>User Property</strong>: <code>gpg.keyEnvName</code></li>
<li><strong>Default</strong>: <code>MAVEN_GPG_KEY</code></li></ul><hr /></section><a id="keyFilePath"></a><section><a id="a.3CkeyFilePath.3E"></a>
<h3>&lt;keyFilePath&gt;</h3>
<div>BC Signer only: The path of the exported key in <a href="https://openpgp.dev/book/private_keys.html#transferable-secret-key-format">TSK format</a>, and may be passphrase protected. If relative, the file is resolved against user home directory. 
<p><em>Note: it is not recommended to have sensitive files checked into SCM repository. Key file should reside on developer workstation, outside of SCM tracked repository. For CI-like use cases you should set the key material as env variable instead.</em></p></div>
<ul>
<li><strong>Type</strong>: <code>java.lang.String</code></li>
<li><strong>Since</strong>: <code>3.2.0</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>User Property</strong>: <code>gpg.keyFilePath</code></li>
<li><strong>Default</strong>: <code>maven-signing-key.key</code></li></ul><hr /></section><a id="keyFingerprint"></a><section><a id="a.3CkeyFingerprint.3E"></a>
<h3>&lt;keyFingerprint&gt;</h3>
<div>BC Signer only: The fingerprint of the key to use for signing. If not given, first key in keyring will be used.</div>
<ul>
<li><strong>Type</strong>: <code>java.lang.String</code></li>
<li><strong>Since</strong>: <code>3.2.0</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>User Property</strong>: <code>gpg.keyFingerprint</code></li></ul><hr /></section><a id="keyFingerprintEnvName"></a><section><a id="a.3CkeyFingerprintEnvName.3E"></a>
<h3>&lt;keyFingerprintEnvName&gt;</h3>
<div>BC Signer only: The env variable name where the GnuPG key fingerprint is set, if the provided keyring contains multiple keys.</div>
<ul>
<li><strong>Type</strong>: <code>java.lang.String</code></li>
<li><strong>Since</strong>: <code>3.2.0</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>User Property</strong>: <code>gpg.keyFingerprintEnvName</code></li>
<li><strong>Default</strong>: <code>MAVEN_GPG_KEY_FINGERPRINT</code></li></ul><hr /></section><a id="keyname"></a><section><a id="a.3Ckeyname.3E"></a>
<h3>&lt;keyname&gt;</h3>
<div>GPG Signer only: The "name" of the key to sign with. Passed to gpg as <code>--local-user</code>.</div>
<ul>
<li><strong>Type</strong>: <code>java.lang.String</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>User Property</strong>: <code>gpg.keyname</code></li></ul><hr /></section><a id="lockMode"></a><section><a id="a.3ClockMode.3E"></a>
<h3>&lt;lockMode&gt;</h3>
<div>GPG Signer only: The lock mode to use when invoking gpg. By default no lock mode will be specified. Valid values are <code>once</code>, <code>multiple</code> and <code>never</code>. The lock mode gets translated into the corresponding <code>--lock-___</code> command line argument. Improper usage of this option may lead to data and key corruption.<br /><strong>See also:</strong> <a href="http://www.gnupg.org/documentation/manuals/gnupg/GPG-Configuration-Options.html">the --lock-options</a></div>
<ul>
<li><strong>Type</strong>: <code>java.lang.String</code></li>
<li><strong>Since</strong>: <code>1.5</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>User Property</strong>: <code>gpg.lockMode</code></li></ul><hr /></section><a id="outputTimestamp"></a><section><a id="a.3CoutputTimestamp.3E"></a>
<h3>&lt;outputTimestamp&gt;</h3>
<div>Timestamp for reproducible output archive entries, either formatted as ISO 8601 extended offset date-time (e.g. in UTC such as '2011-12-03T10:15:30Z' or with an offset '2019-10-05T20:37:42+06:00'), or as an int representing seconds since the epoch (like <a href="https://reproducible-builds.org/docs/source-date-epoch/">SOURCE_DATE_EPOCH</a>).</div>
<ul>
<li><strong>Type</strong>: <code>java.lang.String</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>Default</strong>: <code>${project.build.outputTimestamp}</code></li></ul><hr /></section><a id="passphrase"></a><section><a id="a.3Cpassphrase.3E"></a>
<h3>&lt;passphrase&gt;</h3>
<div><strong>Deprecated.</strong><br />Do not use this configuration, it may leak sensitive information. Rely on gpg-agent or env variables instead.</div><br />
<div>The passphrase to use when signing. If not given, look up the value under Maven settings using server id at 'passphraseServerKey' configuration. <em>Do not use this parameter, it leaks sensitive data. Passphrase should be provided only via gpg-agent or via env variable. If parameter <code>bestPractices</code><!-- no javadoc sites associated --> set to <code>true</code>, plugin fails when this parameter is configured.</em></div>
<ul>
<li><strong>Type</strong>: <code>java.lang.String</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>User Property</strong>: <code>gpg.passphrase</code></li></ul><hr /></section><a id="passphraseEnvName"></a><section><a id="a.3CpassphraseEnvName.3E"></a>
<h3>&lt;passphraseEnvName&gt;</h3>
<div>The env variable name where the GnuPG passphrase is set. This is the recommended way to pass passphrase for signing in batch mode execution of Maven.</div>
<ul>
<li><strong>Type</strong>: <code>java.lang.String</code></li>
<li><strong>Since</strong>: <code>3.2.0</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>User Property</strong>: <code>gpg.passphraseEnvName</code></li>
<li><strong>Default</strong>: <code>MAVEN_GPG_PASSPHRASE</code></li></ul><hr /></section><a id="passphraseServerId"></a><section><a id="a.3CpassphraseServerId.3E"></a>
<h3>&lt;passphraseServerId&gt;</h3>
<div><strong>Deprecated.</strong><br />Do not use this configuration, it may leak sensitive information. Rely on gpg-agent or env variables instead.</div><br />
<div>Server id to lookup the passphrase under Maven settings. <em>Do not use this parameter, it leaks sensitive data. Passphrase should be provided only via gpg-agent or via env variable. If parameter <code>bestPractices</code><!-- no javadoc sites associated --> set to <code>true</code>, plugin fails when this parameter is configured.</em> Is programatically defaulted to <code>GPG_PASSPHRASE</code><!-- no javadoc sites associated -->.</div>
<ul>
<li><strong>Type</strong>: <code>java.lang.String</code></li>
<li><strong>Since</strong>: <code>1.6</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>User Property</strong>: <code>gpg.passphraseServerId</code></li></ul><hr /></section><a id="pgpKeyBehavior"></a><section><a id="a.3CpgpKeyBehavior.3E"></a>
<h3>&lt;pgpKeyBehavior&gt;</h3>
<div>Configures how to generate PGP signatures for artifacts that already have one or more PGP signatures, <code>skip</code> to generate no new PGP signature, <code>replace</code> to replace the existing signature(s) with a new signature, and <code>merge</code> to add a new signature to any existing signature(s).</div>
<ul>
<li><strong>Type</strong>: <code>org.eclipse.tycho.gpg.SignRepositoryArtifactsMojo$PGPKeyBehavior</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>Default</strong>: <code>skip</code></li></ul><hr /></section><a id="publicKeyring"></a><section><a id="a.3CpublicKeyring.3E"></a>
<h3>&lt;publicKeyring&gt;</h3>
<div><strong>Deprecated.</strong><br />Obsolete option since GnuPG 2.1 version.</div><br />
<div>GPG Signer only: The path to a public keyring to add to the list of keyrings. By default, only the <code>pubring.gpg</code> from gpg's home directory is considered. Use this option (and <code>defaultKeyring</code><!-- no javadoc sites associated --> if required) to use a different public key. <em>Note:</em> Relative paths are resolved against gpg's home directory, not the project base directory. 
<p><strong>NOTE: </strong>As of gpg 2.1 this is an obsolete option and ignored. All public keys are stored in the ‘pubring.kbx’ file below the GnuPG home directory.</p></div>
<ul>
<li><strong>Type</strong>: <code>java.lang.String</code></li>
<li><strong>Since</strong>: <code>1.2</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>User Property</strong>: <code>gpg.publicKeyring</code></li></ul><hr /></section><a id="repository"></a><section><a id="a.3Crepository.3E"></a>
<h3>&lt;repository&gt;</h3>
<div>The repository location.</div>
<ul>
<li><strong>Type</strong>: <code>java.io.File</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>Default</strong>: <code>${project.build.directory}/repository</code></li></ul><hr /></section><a id="secretKeyring"></a><section><a id="a.3CsecretKeyring.3E"></a>
<h3>&lt;secretKeyring&gt;</h3>
<div><strong>Deprecated.</strong><br />Obsolete option since GnuPG 2.1 version.</div><br />
<div>GPG Signer only: The path to a secret keyring to add to the list of keyrings. By default, only the <code>secring.gpg</code> from gpg's home directory is considered. Use this option (in combination with <code>publicKeyring</code><!-- no javadoc sites associated --> and <code>defaultKeyring</code><!-- no javadoc sites associated --> if required) to use a different secret key. <em>Note:</em> Relative paths are resolved against gpg's home directory, not the project base directory. 
<p><strong>NOTE: </strong>As of gpg 2.1 this is an obsolete option and ignored. All secret keys are stored in the ‘private-keys-v1.d’ directory below the GnuPG home directory.</p></div>
<ul>
<li><strong>Type</strong>: <code>java.lang.String</code></li>
<li><strong>Since</strong>: <code>1.2</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>User Property</strong>: <code>gpg.secretKeyring</code></li></ul><hr /></section><a id="secretKeys"></a><section><a id="a.3CsecretKeys.3E"></a>
<h3>&lt;secretKeys&gt;</h3>
<div>Configure the Bouncy Castle <code>signer</code><!-- no javadoc sites associated --> to load the secret keys, stored in armored from, from the specified file. This avoids needing to import the keys into GnuPG's keybox.</div>
<ul>
<li><strong>Type</strong>: <code>java.io.File</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>User Property</strong>: <code>tycho.pgp.signer.bc.secretKeys</code></li></ul><hr /></section><a id="signer"></a><section><a id="a.3Csigner.3E"></a>
<h3>&lt;signer&gt;</h3>
<div>Configure the signer used for PGP signing. Currently supported are <code>gpg</code> for launching the native <code>gpg</code> executable, and <code>bc</code> for using Bouncy Castle libraries. The latter is much faster and it can sign in parallel, so is very much faster.</div>
<ul>
<li><strong>Type</strong>: <code>java.lang.String</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>User Property</strong>: <code>tycho.pgp.signer</code></li>
<li><strong>Default</strong>: <code>gpg</code></li></ul><hr /></section><a id="skip"></a><section><a id="a.3Cskip.3E"></a>
<h3>&lt;skip&gt;</h3>
<div>Skip doing the gpg signing.</div>
<ul>
<li><strong>Type</strong>: <code>boolean</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>User Property</strong>: <code>gpg.skip</code></li>
<li><strong>Default</strong>: <code>false</code></li></ul><hr /></section><a id="skipBinaries"></a><section><a id="a.3CskipBinaries.3E"></a>
<h3>&lt;skipBinaries&gt;</h3>
<div>Configure to <code>true</code> to generate a PGP signature for binary artifacts.</div>
<ul>
<li><strong>Type</strong>: <code>boolean</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>Default</strong>: <code>true</code></li></ul><hr /></section><a id="skipIfJarsigned"></a><section><a id="a.3CskipIfJarsigned.3E"></a>
<h3>&lt;skipIfJarsigned&gt;</h3>
<div>Configure to <code>true</code> to generate PGP signature only for artifacts that are <strong>not</strong> signed by a jarsigner.</div>
<ul>
<li><strong>Type</strong>: <code>boolean</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>Default</strong>: <code>true</code></li></ul><hr /></section><a id="skipIfJarsignedAndAnchored"></a><section><a id="a.3CskipIfJarsignedAndAnchored.3E"></a>
<h3>&lt;skipIfJarsignedAndAnchored&gt;</h3>
<div>Configure to <code>true</code> to generate a PGP signature only for artifacts that do <strong>not</strong> contain a signature that's anchored in Java's trust store, i.e., anchored in the JDK's cacerts. A JCA certificate, for example, is never anchored.</div>
<ul>
<li><strong>Type</strong>: <code>boolean</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>Default</strong>: <code>true</code></li></ul><hr /></section><a id="terminatePassphrase"></a><section><a id="a.3CterminatePassphrase.3E"></a>
<h3>&lt;terminatePassphrase&gt;</h3>
<div>Whether to terminate the passphrase with LF character or not, as on some systems and some GPG executable combinations lack of trailing LF may cause GPG to not detect passphrase on STDIN. Since 3.2.0 it was always appended, unless passphrase itself ended with it. Note: before 3.2.7 the "line separator" was used for termination, that on other hand caused issues on Windows, where line separator is CRLF while GPG handles LF only. This parameter affects ONLY the GPG signer, not the BC signer. 
<p>By default, this parameter is <code>true</code>.</p><br /><strong>See also:</strong> <a href="https://issues.apache.org/jira/browse/MGPG-99">MGPG-99</a>, <a href="https://issues.apache.org/jira/browse/MGPG-136">MGPG-136</a></div>
<ul>
<li><strong>Type</strong>: <code>boolean</code></li>
<li><strong>Since</strong>: <code>3.2.7</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>User Property</strong>: <code>gpg.terminatePassphrase</code></li>
<li><strong>Default</strong>: <code>true</code></li></ul><hr /></section><a id="useAgent"></a><section><a id="a.3CuseAgent.3E"></a>
<h3>&lt;useAgent&gt;</h3>
<div>All signers: whether gpg-agent is allowed to be used or not. If enabled, passphrase is optional, as agent may provide it. Have to be noted, that in "batch" mode, gpg-agent will be prevented to pop up pinentry dialogue, hence best is to "prime" the agent caches beforehand. 
<p>GPG Signer: Passes <code>--use-agent</code> or <code>--no-use-agent</code> option to gpg if it is version 2.1 or older. Otherwise, will use an agent. In non-interactive mode gpg options are appended with <code>--pinentry-mode error</code>, preventing gpg agent to pop up pinentry dialogue. Agent will be able to hand over only cached passwords.</p>
<p>BC Signer: Allows signer to communicate with gpg agent. In non-interactive mode it uses <code>--no-ask</code> option with the <code>GET_PASSPHRASE</code> function. Agent will be able to hand over only cached passwords.</p></div>
<ul>
<li><strong>Type</strong>: <code>boolean</code></li>
<li><strong>Required</strong>: <code>No</code></li>
<li><strong>User Property</strong>: <code>gpg.useagent</code></li>
<li><strong>Default</strong>: <code>true</code></li></ul></section></section></section>        </main>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>©      2008–2025
<a href="https://www.eclipse.org/">Eclipse Foundation</a>
</p>
        </div>
      </div>
    </footer>
  </body>
</html>
